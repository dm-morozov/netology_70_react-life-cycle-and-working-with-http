// ¬´–¢–∞–π–º–µ—Ä —Å –æ—á–∏—Å—Ç–∫–æ–π¬ª (–∞–Ω–∞–ª–æ–≥ componentWillUnmount)

import { useEffect, useState, type FC, type JSX, type ReactNode } from 'react'

// üéØ –¶–µ–ª—å:
// –ù–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useEffect —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –æ—á–∏—Å—Ç–∫–∏ (cleanup), —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å —Ç–∞–π–º–µ—Ä –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

// ü™Ñ –ó–∞–¥–∞—á–∞

// –°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Timer, –∫–æ—Ç–æ—Ä—ã–π –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫.
// –ö–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–¥–∞–ª—è–µ—Ç—Å—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Äî —Ç–∞–π–º–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è.

/**
 * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç TimerWithCleaning, –∫–æ—Ç–æ—Ä—ã–π –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
 * —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫. –ö–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–¥–∞–ª—è–µ—Ç—Å—è —Å–æ
 * —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Äî —Ç–∞–π–º–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è.
 *
 * @returns {JSX.Element} - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Timer.
 */
const TimerWithCleaning: FC<ReactNode> = (): JSX.Element => {
  const [second, setSecond] = useState(0)
  useEffect(() => {
    const interval = setInterval(() => {
      setSecond((sec) => sec + 1)
    }, 1000)

    return () => {
      clearInterval(interval)
      console.log('–¢–∞–π–º–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω')
    }
  }, [])
  return <h3>–ü—Ä–æ—à–ª–æ —Å–µ–∫—É–Ω–¥: {second}</h3>
}

export default TimerWithCleaning
